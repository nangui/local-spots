---
description: "Documentation complÃ¨te de l'API LocalSpots avec tous les endpoints, codes d'erreur et exemples"
globs: ["app/controllers/**/*.ts", "app/routes/**/*.ts", "start/routes.ts"]
alwaysApply: false
---

# ğŸ”— RÃ¨gles de Documentation API - LocalSpots

## ğŸ“‹ Standards Ã  respecter

### Structure des Endpoints
- Tous les endpoints doivent suivre le pattern RESTful
- Utiliser les codes de statut HTTP appropriÃ©s (200, 201, 400, 401, 404, 422, 500)
- Inclure la pagination pour les listes avec mÃ©tadonnÃ©es complÃ¨tes

### Authentification
- Utiliser Bearer Token pour tous les endpoints protÃ©gÃ©s
- Inclure le header `Authorization: Bearer <token>` dans la documentation
- GÃ©rer les erreurs 401 (Unauthorized) et 403 (Forbidden)

### Validation des DonnÃ©es
- Valider toutes les entrÃ©es avec VineJS
- Retourner des erreurs 422 avec format standardisÃ©
- Inclure les rÃ¨gles de validation dans la documentation

### Format des RÃ©ponses
- Utiliser le format JSON standardisÃ©
- Inclure les mÃ©tadonnÃ©es de pagination
- GÃ©rer les erreurs avec le format `{ "errors": [...] }`

### Rate Limiting
- 100 requÃªtes/minute pour endpoints non authentifiÃ©s
- 1000 requÃªtes/minute pour endpoints authentifiÃ©s
- Retourner 429 (Too Many Requests) avec `Retry-After`

## ğŸ¯ Endpoints Principaux

### Authentication
- `POST /auth/register` - Inscription utilisateur
- `POST /auth/login` - Connexion utilisateur  
- `POST /auth/logout` - DÃ©connexion utilisateur

### Spots
- `GET /spots` - Liste des spots avec pagination et filtres
- `GET /spots/:id` - DÃ©tails d'un spot
- `POST /spots` - CrÃ©ation d'un nouveau spot
- `PUT /spots/:id` - Mise Ã  jour d'un spot
- `DELETE /spots/:id` - Suppression d'un spot

## ğŸ“Š Codes d'Erreur StandardisÃ©s

| Code | Description | Usage |
|------|-------------|-------|
| 400 | Bad Request | DonnÃ©es invalides |
| 401 | Unauthorized | Token manquant/invalide |
| 403 | Forbidden | AccÃ¨s refusÃ© |
| 404 | Not Found | Ressource non trouvÃ©e |
| 422 | Unprocessable Entity | Erreurs de validation |
| 429 | Too Many Requests | Rate limit dÃ©passÃ© |
| 500 | Internal Server Error | Erreur serveur |

## ğŸ”’ SÃ©curitÃ©

- Toutes les dates au format ISO 8601
- CoordonnÃ©es GPS en systÃ¨me WGS84
- Validation stricte des entrÃ©es
- Protection CSRF activÃ©e
- Headers de sÃ©